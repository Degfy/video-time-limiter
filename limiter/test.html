<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§†é¢‘æ—¶é•¿é™åˆ¶å™¨ - æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .video-container {
            margin: 20px 0;
            padding: 20px;
            border: 2px dashed #ddd;
            border-radius: 8px;
            text-align: center;
        }
        
        video {
            max-width: 100%;
            border-radius: 8px;
        }
        
        .controls {
            margin: 20px 0;
            text-align: center;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        button:hover {
            background: #5a6fd8;
        }
        
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        
        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        
        .status {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¥ è§†é¢‘æ—¶é•¿é™åˆ¶å™¨æµ‹è¯•é¡µé¢</h1>
        
        <div class="info">
            <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong>
            <ol>
                <li>ç¡®ä¿å·²å®‰è£…è§†é¢‘æ—¶é•¿é™åˆ¶å™¨æ‰©å±•</li>
                <li>ç‚¹å‡»æ‰©å±•å›¾æ ‡è¿›è¡Œè®¾ç½®ï¼ˆå»ºè®®è®¾ç½®è¾ƒçŸ­çš„æ—¶é—´é™åˆ¶ï¼Œå¦‚30ç§’ï¼Œä¾¿äºæµ‹è¯•ï¼‰</li>
                <li>æ’­æ”¾ä¸‹é¢çš„è§†é¢‘ï¼Œè§‚å¯Ÿæ‰©å±•æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
                <li>å½“è§‚çœ‹æ—¶é—´è¶…è¿‡é™åˆ¶æ—¶ï¼Œåº”è¯¥ä¼šå¼¹å‡ºæç¤ºæ¡†</li>
            </ol>
        </div>
        
        <div class="warning">
            <strong>æ³¨æ„ï¼š</strong>ä¸ºäº†å¿«é€Ÿæµ‹è¯•æ•ˆæœï¼Œå»ºè®®åœ¨æ‰©å±•è®¾ç½®ä¸­å°†æ—¶é—´é™åˆ¶è®¾ä¸º30ç§’æˆ–1åˆ†é’Ÿã€‚
        </div>
        
        <div class="video-container">
            <h3>æµ‹è¯•è§†é¢‘ 1 - HTML5 è§†é¢‘</h3>
            <video id="video1" controls width="400">
                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                <source src="https://www.w3schools.com/html/mov_bbb.ogg" type="video/ogg">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ã€‚
            </video>
        </div>
        
        <div class="video-container">
            <h3>æµ‹è¯•è§†é¢‘ 2 - æœ¬åœ°è§†é¢‘ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</h3>
            <video id="video2" controls width="400">
                <source src="test-video.mp4" type="video/mp4">
                æœ¬åœ°æµ‹è¯•è§†é¢‘ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            </video>
        </div>
        
        <div class="controls">
            <button onclick="playVideo('video1')">æ’­æ”¾è§†é¢‘1</button>
            <button onclick="pauseVideo('video1')">æš‚åœè§†é¢‘1</button>
            <button onclick="playVideo('video2')">æ’­æ”¾è§†é¢‘2</button>
            <button onclick="pauseVideo('video2')">æš‚åœè§†é¢‘2</button>
        </div>
        
        <div class="controls">
            <button onclick="simulateWatching()">æ¨¡æ‹Ÿé•¿æ—¶é—´è§‚çœ‹</button>
            <button onclick="checkExtensionStatus()">æ£€æŸ¥æ‰©å±•çŠ¶æ€</button>
        </div>
        
        <div class="status" id="status">
            çŠ¶æ€ï¼šç­‰å¾…æµ‹è¯•...
        </div>
        
        <div class="info">
            <h3>æµ‹è¯•æ£€æŸ¥é¡¹ï¼š</h3>
            <ul>
                <li>âœ… è§†é¢‘æ’­æ”¾æ—¶æ˜¯å¦å¼€å§‹è®¡æ—¶</li>
                <li>âœ… è§†é¢‘æš‚åœæ—¶æ˜¯å¦åœæ­¢è®¡æ—¶</li>
                <li>âœ… åˆ‡æ¢æ ‡ç­¾é¡µæ—¶æ˜¯å¦æš‚åœè®¡æ—¶</li>
                <li>âœ… è¶…è¿‡æ—¶é—´é™åˆ¶æ—¶æ˜¯å¦å¼¹å‡ºè­¦å‘Š</li>
                <li>âœ… è­¦å‘Šå…³é—­åç»§ç»­æ’­æ”¾æ˜¯å¦å†æ¬¡æé†’</li>
                <li>âœ… æ‰©å±•è®¾ç½®ç•Œé¢æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
                <li>ğŸ†• æœåŠ¡å™¨çŠ¶æ€æ£€æŸ¥åŠŸèƒ½æ˜¯å¦æ­£å¸¸</li>
                <li>ğŸ†• ç”¨æˆ·IDç¼–è¾‘åŠŸèƒ½æ˜¯å¦æ­£å¸¸</li>
                <li>ğŸ†• è‡ªå®šä¹‰ç”¨æˆ·IDä¿å­˜æ˜¯å¦æˆåŠŸ</li>
                <li>ğŸ†• æœ¬åœ°/è¿œç¨‹æ¨¡å¼åˆ‡æ¢æ˜¯å¦æ­£å¸¸</li>
                <li>ğŸ†• æœ¬åœ°æ¨¡å¼ä¸‹æ˜¯å¦éšè—æœåŠ¡å™¨é…ç½®</li>
                <li>ğŸ†• è¿œç¨‹æ¨¡å¼ä¸‹æ˜¯å¦æ˜¾ç¤ºæœåŠ¡å™¨é…ç½®</li>
                <li>ğŸ†• æœåŠ¡å™¨çŠ¶æ€æ˜¾ç¤ºï¼šè¿œç¨‹æ¨¡å¼ä¸‹å®æ—¶æ˜¾ç¤ºæœåŠ¡å™¨è¿æ¥çŠ¶æ€</li>
                <li>ğŸ†• è‡ªå®šä¹‰æç¤ºåŒæ­¥ï¼šè¿œç¨‹æ¨¡å¼ä¸‹è‡ªå®šä¹‰æç¤ºå†…å®¹åŒæ­¥åˆ°æœåŠ¡å™¨</li>
            </ul>
        </div>
        
        <div class="info">
            <h3>ğŸ†• æ–°åŠŸèƒ½æµ‹è¯•ï¼š</h3>
            <ol>
                <li><strong>æœåŠ¡å™¨çŠ¶æ€æ£€æŸ¥ï¼š</strong>
                    <ul>
                        <li>åœ¨è®¾ç½®ä¸­è¾“å…¥æœåŠ¡å™¨åœ°å€ï¼ˆå¦‚ï¼šhttp://localhost:8080ï¼‰</li>
                        <li>ç‚¹å‡»"æ£€æŸ¥"æŒ‰é’®æµ‹è¯•æœåŠ¡å™¨è¿æ¥çŠ¶æ€</li>
                        <li>è§‚å¯ŸçŠ¶æ€æ˜¾ç¤ºï¼šåœ¨çº¿(ç»¿è‰²)ã€ç¦»çº¿(çº¢è‰²)ã€éƒ¨åˆ†å¯ç”¨(é»„è‰²)</li>
                    </ul>
                </li>
                <li><strong>ç”¨æˆ·IDè®¾ç½®ï¼š</strong>
                     <ul>
                         <li>ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®è¿›å…¥ç”¨æˆ·IDç¼–è¾‘æ¨¡å¼</li>
                         <li>è¾“å…¥è‡ªå®šä¹‰ç”¨æˆ·IDå¹¶æŒ‰å›è½¦æˆ–ç‚¹å‡»å…¶ä»–åœ°æ–¹ä¿å­˜</li>
                         <li>éªŒè¯ç”¨æˆ·IDæ˜¯å¦æˆåŠŸæ›´æ–°</li>
                         <li>æµ‹è¯•"å–æ¶ˆ"åŠŸèƒ½æ˜¯å¦æ­£å¸¸</li>
                     </ul>
                 </li>
                 <li><strong>æ¨¡å¼åˆ‡æ¢ï¼š</strong>
                     <ul>
                         <li>æµ‹è¯•"æœ¬åœ°æ¨¡å¼"å’Œ"è¿œç¨‹æ¨¡å¼"æŒ‰é’®åˆ‡æ¢</li>
                         <li>éªŒè¯æœ¬åœ°æ¨¡å¼ä¸‹æœåŠ¡å™¨é…ç½®åŒºåŸŸæ˜¯å¦éšè—</li>
                         <li>éªŒè¯è¿œç¨‹æ¨¡å¼ä¸‹æœåŠ¡å™¨é…ç½®åŒºåŸŸæ˜¯å¦æ˜¾ç¤º</li>
                         <li>æµ‹è¯•åˆ‡æ¢åˆ°è¿œç¨‹æ¨¡å¼æ—¶æ˜¯å¦è‡ªåŠ¨å¡«å…¥ç¤ºä¾‹æœåŠ¡å™¨åœ°å€</li>
                         <li>æµ‹è¯•åˆ‡æ¢åˆ°æœ¬åœ°æ¨¡å¼æ—¶æ˜¯å¦æ¸…ç©ºæœåŠ¡å™¨é…ç½®</li>
                         <li>éªŒè¯æ¨¡å¼æŒ‡ç¤ºå™¨çŠ¶æ€æ˜¯å¦æ­£ç¡®æ›´æ–°</li>
                     </ul>
                 </li>
            </ol>
        </div>
    </div>
    
    <script>
        function playVideo(videoId) {
            const video = document.getElementById(videoId);
            video.play().catch(e => {
                updateStatus(`æ’­æ”¾è§†é¢‘å¤±è´¥: ${e.message}`);
            });
            updateStatus(`å¼€å§‹æ’­æ”¾ ${videoId}`);
        }
        
        function pauseVideo(videoId) {
            const video = document.getElementById(videoId);
            video.pause();
            updateStatus(`æš‚åœæ’­æ”¾ ${videoId}`);
        }
        
        function simulateWatching() {
            updateStatus('å¼€å§‹æ¨¡æ‹Ÿé•¿æ—¶é—´è§‚çœ‹...');
            const video = document.getElementById('video1');
            
            // å¿«é€Ÿè§¦å‘æ’­æ”¾/æš‚åœæ¥æ¨¡æ‹Ÿè§‚çœ‹æ—¶é—´
            let count = 0;
            const interval = setInterval(() => {
                if (count % 2 === 0) {
                    video.play().catch(() => {});
                } else {
                    video.pause();
                }
                count++;
                
                if (count >= 10) {
                    clearInterval(interval);
                    updateStatus('æ¨¡æ‹Ÿè§‚çœ‹å®Œæˆï¼Œè¯·æ£€æŸ¥æ˜¯å¦è§¦å‘æ—¶é—´é™åˆ¶è­¦å‘Š');
                }
            }, 1000);
        }
        
        function checkExtensionStatus() {
            // æ£€æŸ¥æ˜¯å¦æœ‰æ‰©å±•æ³¨å…¥çš„è„šæœ¬
            if (typeof chrome !== 'undefined' && chrome.runtime) {
                updateStatus('âœ… Chromeæ‰©å±•APIå¯ç”¨');
                
                // å°è¯•å‘é€æ¶ˆæ¯ç»™æ‰©å±•
                chrome.runtime.sendMessage({action: 'getConfig'}, (response) => {
                    if (chrome.runtime.lastError) {
                        updateStatus('âŒ æ‰©å±•é€šä¿¡å¤±è´¥: ' + chrome.runtime.lastError.message);
                    } else {
                        updateStatus('âœ… æ‰©å±•é€šä¿¡æ­£å¸¸ï¼Œå½“å‰é…ç½®: ' + JSON.stringify(response));
                    }
                });
            } else {
                updateStatus('âŒ Chromeæ‰©å±•APIä¸å¯ç”¨ï¼Œè¯·ç¡®ä¿å·²å®‰è£…æ‰©å±•');
            }
        }
        
        function updateStatus(message) {
            const status = document.getElementById('status');
            const timestamp = new Date().toLocaleTimeString();
            status.innerHTML += `<br>[${timestamp}] ${message}`;
            status.scrollTop = status.scrollHeight;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateStatus('æµ‹è¯•é¡µé¢å·²åŠ è½½');
            
            // ç›‘å¬è§†é¢‘äº‹ä»¶
            const videos = document.querySelectorAll('video');
            videos.forEach((video, index) => {
                video.addEventListener('play', () => {
                    updateStatus(`è§†é¢‘${index + 1}å¼€å§‹æ’­æ”¾`);
                });
                
                video.addEventListener('pause', () => {
                    updateStatus(`è§†é¢‘${index + 1}æš‚åœæ’­æ”¾`);
                });
                
                video.addEventListener('ended', () => {
                    updateStatus(`è§†é¢‘${index + 1}æ’­æ”¾ç»“æŸ`);
                });
            });
            
            // æ£€æŸ¥æ‰©å±•çŠ¶æ€
            setTimeout(checkExtensionStatus, 1000);
        });
        
        // ç›‘å¬é¡µé¢å¯è§æ€§å˜åŒ–
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                updateStatus('é¡µé¢åˆ‡æ¢åˆ°åå°');
            } else {
                updateStatus('é¡µé¢åˆ‡æ¢åˆ°å‰å°');
            }
        });
    </script>
</body>
</html>